var process = process || {};
(function () {
  "use strict";

  var clc = require('cli-color');

  var logger = exports;
  logger.debugLevel = 'pass';

  logger.subdue = clc.blackBright;

  logger.log = function(level, messageArgs) {
     var messages;
     if(arguments) { messages = [].splice.call(arguments,1); }

    level = level.toLowerCase();
    var levels = ['fail', 'warn', 'pass', 'info'];
    var prefix = {
        fail: clc.red("FAIL"),
        warn: clc.yellow("WARN"),
        info: clc.blue("INFO"),
        pass: clc.green("PASS")
     };
    if (levels.indexOf(level) <= levels.indexOf(logger.debugLevel) ) {
     var message, out = [prefix[level]];
     message = messages.shift();
     while(message) {
         if (typeof message !== 'string') {
           message = JSON.stringify(message);
         }
         out.push(message);
         message = messages.shift();
     }
      console.log(out.join('\t'));
    }
  };

}());
